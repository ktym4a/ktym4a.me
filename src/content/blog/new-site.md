---
title: 'Astroでサイトを作り直しました'
tags: ['Astro']
publishedDate: 2024-01-25
lang: ja
---

このサイトは [Astro](https://astro.build/) を使って0から作り直しました。

## なぜ作り直したのか

-   [Catppuccin](https://github.com/catppuccin/catppuccin) と [Monolisa](https://www.monolisa.dev/) を使いたかった。

    -   自分のサイトで使用し、この2つの良さを少しでも多くの人に知ってもらいたいと思っています。

-   新規ドメイン ktym4a.me を取得したから。

    -   以前は ktym4a.com を使っていましたが、個人で使用するには .me の方がしっくりくると思ったので変更しました。
    -   また、以前のブログはまったく更新していなかったので、新しいドメインで新しいブログを始めることにしました。(今後は更新頑張りたい...)

-   いろいろ試したい技術があった。
    -   [技術スタック](#技術スタック) にも書いていますが、今回はいろいろ試したい技術があったので、それらを使って作り直しました。

---

## 技術スタック/デプロイ

メインで使用しているのは、

-   [Astro](https://astro.build/)
-   [Tailwind CSS](https://tailwindcss.com/)
-   [TypeScript](https://www.typescriptlang.org/)

です。

### Astroを選んだ理由

静的サイトジェネレーターとしてよく使われている [Gatsby](https://www.gatsbyjs.com/) もありますが、今回は初期の段階から Astro を使うことにしていました。

理由としては、View Transition API を簡単に使えることと、Astro の方がシンプルな構成で作りやすいと思ったからです。  
また、Markdown で使用する画像も標準で最適化されるので、画像の最適化についても気にしなくて良いのも良いと思いました。

以前のブログサイトでは Gatsby を使っていましたが、自分のスキルが足りなかったのか、いろいろと苦労しました。  
また、Gatsby のプラグインシステムは複雑になりがちなのも気になっていました。

### Tailwind CSSを選んだ理由

使い慣れているので、というのが一番の理由です。  
また [@catppuccin/tailwindcss](https://github.com/catppuccin/tailwindcss) という Tailwind CSS のプラグインがあるので、それを使っているのもあります。

### TypeScriptを選んだ理由

TypeScript は以前から使っていたので、今回も使いました。  
ってよりも今だとわざわざ JavaScript を使う理由がないと思っているので、TypeScript で書くのが当たり前になっています。

---

## こだわりポイント

### デザイン

デザインに関しては、自分の好きなもの(Cattuccino, Monolisa)を使用し、自分の世界観を全面に押し出したデザインにしようと思っており、実際にそうなっていると思います。

パステルカラーを使用し、開発者っぽい感じを出すために、コードブロックを表現したり、自分がコーディングする際に見えている構造を少しでも視覚化できればなと思ってデザインを考えました。

またページごとに色を変えているのも、好きな色を使いたかったからです。

### 機能

機能に関してこだわった箇所は

-   a11y(実際に対応できているかというと...)
    -   実際にタブで操作してみたら分かると思いますが、タブで操作した際のフォーカスの見せ方にこだわりました。
    -   また、"Reduce motion" をオンにしている場合は、View Transition/Animation を無効にしています。
-   View Transition
    -   デフォルトで Astro が容易している Built-in Animation では自分の好みに合わなかったので、自分で実装しました。(後日記事にします。)
-   SEO/パフォーマンス対策
    -   SEOに関しては、Astro のプラグインを使用し、sitemap, robots.txt, RSS を生成しています。
    -   パフォーマンスに関しては、[capo](https://rviscomi.github.io/capo.js/) を使用し、`<head>` 内のタグを最適化しています。

色々実装する上で、ハマったところもありましたが、それはまた別の記事で書きたいと思います。

---

## 今後の予定/目標

-   ブログを書く
-   ページを増やす(プロジェクトページ、 Uses ページなど)
-   CI/CD や テスト が全然なので、導入する
